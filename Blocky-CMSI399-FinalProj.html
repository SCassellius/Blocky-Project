<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Blocky</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="52301f54-7de5-4966-a5d0-2a6500cbaa49" class="page sans"><header><h1 class="page-title">Blocky</h1></header><div class="page-body"><hr id="72d60f3e-465a-47ff-b5c0-83aaae0c45e5"/><p id="89fa2a81-b11b-4732-9cee-2fc9d1dee4cc" class="">CMSI 399 - Discrete Math Final Project</p><hr id="8e20ef0d-44cc-448f-a918-db00d6951c08"/><h2 id="fc5d4caf-be99-4d98-b0de-2d49912d5ae4" class="">Introduction: the Blocky game</h2><p id="ae4da8e5-6c18-46ec-a80f-3c7168f2b0cc" class="">Blocky is a game with simple moves on a simple structure, but like a Rubik’s Cube, it is quite challenging to play. The game is played on a randomly-generated game board made of squares of four different colours, such as this:</p><figure id="c66384b4-c4f2-4d57-9dc9-fb16f0f6b6ae" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-5.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-5.jpg"/></a></figure><p id="fd340a90-b4a3-4ace-9846-59ccd9be9bcd" class="">Each player has their own goal that they are working towards, such as creating the largest connected “blob” of blue. After each move, the player sees their score, determined by how well they have achieved their goal. The game continues for a certain number of turns, and the player with the highest score at the end is the winner.</p><p id="a66f72b8-17ca-44ea-88f4-fa7408d808e3" class="">Now let’s look in more detail at the rules of the game and the different ways it can be configured for play.</p><h3 id="988bab9d-736d-4c00-bf69-ce77c1ebee4b" class="">The Blocky board</h3><p id="87a1f88d-52e4-40a7-9b6a-e0feb3dbe6e2" class="">We call the game board a ‘block’. It is best defined recursively. A <strong>block</strong> is either:</p><ul id="9a925c3b-6d76-48c9-bd30-60b25cf534f5" class="bulleted-list"><li style="list-style-type:disc">a square of one colour, or</li></ul><ul id="4a99db12-2b05-495d-8668-89ead4baa910" class="bulleted-list"><li style="list-style-type:disc">a square that is subdivided into 4 equal-sized blocks.</li></ul><p id="d79eb2c7-a0e9-48fe-99cb-c76782fddd46" class="">The largest block of all, containing the whole structure, is called the <strong>top-level block</strong>. We say that the top-level block is at <strong>level 0</strong>. If the top-level block is subdivided, we say that its four sub-blocks are at level 1. More generally, if a block at level k is subdivided, its four sub-blocks are at level k+1.</p><p id="035607bf-317d-4c54-b598-1f4544c3cc60" class="">A Blocky board has a <strong>maximum allowed depth</strong>, which is the number of levels down it can go. A board with maximum allowed depth 0 would not be fun to play on – it couldn’t be subdivided beyond the top level, meaning that it would be of one solid colour. This board was generated with maximum depth 5:</p><figure id="7c359b23-333b-42b9-8e99-4ccdfd790b34" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-5.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-5.jpg"/></a></figure><p id="b814ba86-3bbf-46a9-a56c-6953bf4363a5" class="">For scoring, the units of measure are squares the size of the blocks at the maximum allowed depth. We will call these blocks <strong>unit cells</strong>.</p><h3 id="89446c5c-ab4a-4197-ac3d-accdb13d0aa2" class="">Choosing a block and levels</h3><p id="6be4119a-576e-4f42-89ca-06eeaa94e80f" class="">The moves that can be made are things like rotating a block. What makes moves interesting is that they can be applied to any block at any level. For example, if the user selects the entire top-level block for this board:</p><figure id="9304ab99-d956-40bb-a16e-6dc8fdc656a6" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-before.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-before.jpg"/></a></figure><p id="9c9777eb-b682-4522-bfe3-a80fa4c1e46b" class="">and chooses to rotate it counter-clockwise, the resulting board is this:</p><figure id="121dd41d-121a-4b7c-b00b-807c3e48216e" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level0.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level0.jpg"/></a></figure><p id="356726aa-9370-462e-928d-a33e41693fd5" class="">But if instead, on the original board, they rotated the block at level 1 (one level down from the top-level block) in the upper left-hand corner, the resulting board is this:</p><figure id="fbc9c349-2451-45d2-93cd-94d3c67a229d" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level1.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level1.jpg"/></a></figure><p id="b0287baa-3a13-40ab-b817-97b7e0fcb3f3" class="">And if instead they were to rotate the block a further level down, still sticking in the upper-left corner, they would get this:</p><figure id="ef1d20c5-6fc6-446a-927a-2e2f2ec33f1f" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level2.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/rotate-level2.jpg"/></a></figure><p id="09c47191-f5e0-4bde-9947-6ca21ff80eb5" class="">Of course there are many other blocks within the board at various levels that the player could have chosen.</p><h3 id="339877a0-b6f1-4d00-8064-a7eb1cd8e20b" class="">Moves</h3><p id="2f941e88-d283-45ec-9287-ee0debb0e4d4" class="">These are the moves that are allowed on a Blocky board:</p><ul id="f6b9104b-bf26-4aba-8ab9-aadffaccd7a3" class="bulleted-list"><li style="list-style-type:disc">Rotate the selected block either clockwise or counterclockwise</li></ul><ul id="ba040502-350e-4008-acb8-3406c5d4edaa" class="bulleted-list"><li style="list-style-type:disc">Swap the 4 sub-blocks within the selected block horizontally or vertically</li></ul><ul id="7b516243-c39f-4ff0-b760-209cccda910b" class="bulleted-list"><li style="list-style-type:disc">“Smash” the selected block: whether it is a solid-coloured block or is already subdivided, give it four new, randomly-generated sub-blocks. Smashing the top-level block is not allowed – that would be creating a whole new game. And smashing a unit cell is also not allowed, since it’s already at the maximum allowed depth.</li></ul><h3 id="8db8b615-47db-44b3-9878-10ca2ce28341" class="">Goals and scoring</h3><p id="1287a9af-3902-441f-bd07-203e0a91b02b" class="">At the beginning of the game, each player is assigned a randomly-generated goal. There are two types of goal:</p><ul id="a3b55deb-585b-477f-9501-c474c8428152" class="bulleted-list"><li style="list-style-type:disc"><em>Blob goal.</em>The player must aim for the largest “blob” of a given colour c. A <strong>blob</strong> is a group of connected blocks with the same colour. Two blocks are <strong>connected</strong> if their sides touch; touching corners doesn’t count. The player’s score is the number of unit cells in the largest blob of colour c.</li></ul><ul id="92a664bf-cafc-4911-bd99-861a5ca74ab0" class="bulleted-list"><li style="list-style-type:disc"><em>Perimeter goal.</em>The player must aim to put the most possible units of a given colour c on the outer perimeter of the board. The player’s score is the total number of unit cells of colour c that are on the perimeter. There is a premium on corner cells: they count twice towards the score.</li></ul><p id="fe6ac01e-1298-41f5-9307-76b7a93e43d2" class="">Notice that both goals are relative to a particular colour. We will call that the <strong>target colour</strong> for the goal.</p><h3 id="49d1eaa5-2860-4615-9621-eccddc13f978" class="">Players</h3><p id="9adab1a4-c89e-4d06-87f2-e166f93b5c02" class="">The game can be played solitaire (with a single player) or with two or more players. There is no defined limit on the number of players, although the game would not likely be fun to play with a very large number of players.</p><p id="6003bdd1-4260-40f5-b6a6-24271a3e3ab6" class="">There are three kinds of player:</p><ul id="6c71f5ad-384a-4508-916a-07d3953bb743" class="bulleted-list"><li style="list-style-type:disc">A human player chooses moves based on user input. Human players are limited to one smash move per game.</li></ul><ul id="4b390e20-89fc-4d70-8fac-a4151eb64863" class="bulleted-list"><li style="list-style-type:disc">A random player is a computer player that, as the name implies, chooses moves randomly. Random players have no limit on their smashes. But if they randomly choose to smash the top-level block or a unit cell, neither of which is permitted, they forfeit their turn.</li></ul><ul id="eb22216b-1360-4bc8-a193-d14f1ed07f81" class="bulleted-list"><li style="list-style-type:disc">A smart player is a computer player that chooses moves more intelligently: It generates a set of random moves and, for each, checks what its score would be if it were to make that move. Then it picks the one that yields the best score. Smart players cannot smash.</li></ul><h3 id="ee493088-9ac6-4c66-b580-e18837d6122d" class="">Configurations of the game</h3><p id="98c75c9f-7bb7-4f00-83bf-d9c326c24c4e" class="">A Blocky game can be configured in several ways:</p><ul id="99732bb4-8083-44d1-ad34-0d22495f63f2" class="bulleted-list"><li style="list-style-type:disc"><em>Maximum allowed depth.</em>While the specific colour pattern for the board is randomly generated, we control how finely subdivided the squares can be.</li></ul><ul id="80b8f513-feb9-4306-b889-a2cc6fb30368" class="bulleted-list"><li style="list-style-type:disc"><em>Number and type of players.</em>There can be any number of players of each type. The “difficulty” of a smart player (how hard it is to play against) can also be configured.</li></ul><ul id="c7b46812-34c7-4d93-9a69-ba1556288985" class="bulleted-list"><li style="list-style-type:disc"><em>Number of moves.</em>A game can be configured to run for any desired number of moves. (A game will end early if any player closes the game window.)</li></ul><h2 id="5646c61d-7937-403d-bc0c-39ef7217ba4e" class="">Setup and starter code</h2><p id="cb7135b1-0ab2-4f19-ba2a-0fef07b03006" class="">Please download the following starter code files and save these into your projects folder.</p><ul id="417db26c-1595-4374-ada2-0edab3f9af63" class="bulleted-list"><li style="list-style-type:disc">block.py</li>
</ul><ul id="292bc43f-9f46-432d-9cdb-f7c456901f42" class="bulleted-list"><li style="list-style-type:disc">game.py</li>
</ul><ul id="470bd035-8360-483c-83a1-94d71df0c773" class="bulleted-list"><li style="list-style-type:disc">goal.py</li>
</ul><ul id="2009c844-9920-4e5d-afc0-fcf9260b012b" class="bulleted-list"><li style="list-style-type:disc">player.py</li>
</ul><ul id="2611e386-3cb5-4935-addf-53f551200447" class="bulleted-list"><li style="list-style-type:disc">renderer.py. Don’t change this file. All your work will be in the other files.</li>
</ul><ul id="41534d95-09e2-4bdd-a486-58c2510aadb7" class="bulleted-list"><li style="list-style-type:disc">rectangle_test.py. This will help you test <code>get_draw_rectangles</code>.</li></ul><ul id="a17ecf13-3c87-4026-907e-fff874d9f342" class="bulleted-list"><li style="list-style-type:disc">simple_test.py. A simple test for each of methods we can autotest.</li>
</ul><h2 id="4f44c779-4286-44d9-b332-048cb3c1d7d7" class="">Task 1: Understand the Block data structure</h2><p id="6a1ced20-fca7-4c89-bfea-e902b68d3939" class="">Surprise, surprise: we will use a tree to represent the nested structure of a block. Our trees will have some very strong restrictions on their structure and contents, however. For example, a node cannot have 3 children. This is because a block is either solid-coloured or subdivided; if it is solid-coloured, it is represented by a node with no children, and if it is subdivided, it is subdivided into exactly four sublocks. Representation invariants document this rule and several other critically important facts.</p><ol type="1" id="3abc86ec-4b95-4d82-9913-ff9d9e07ff3e" class="numbered-list" start="1"><li>Open <code>block.py</code>, and read through the class docstring carefully. A <code>Block</code> has quite a few attributes to understand, and the Representation Invariants are critical.</li></ol><ol type="1" id="e539dc7d-5dcc-4c8f-86b6-bb96314aab8f" class="numbered-list" start="2"><li>Draw the <code>Block</code> data structure corresponding to the game board below, assuming the maximum depth was 2 (and notice that it was indeed reached). You can just write a letter for each colour value. Assume that the size of the top-level block is 750.Did you draw 9 nodes? Do the attribute values of each node satisfy the representation invariants? NB: If you come to office hours, we will ask to see your drawing before answering questions!<figure id="8ac9c4a3-e7ea-4d7c-91e0-23d3e6813ec3" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-2-simple.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-2-simple.jpg"/></a></figure></li></ol><h2 id="742d1638-0926-4676-b5fa-8a958445cea6" class="">Task 2: Initialize Blocks and draw them</h2><p id="8632c070-3dbc-47e2-a79b-cad76b1d71f9" class="">With a good understanding of the data structure, you are ready to start implementing class <code>Block</code>.</p><ol type="1" id="0d888b78-a128-46b6-a489-e47b750cec36" class="numbered-list" start="1"><li>Write method <code>__init__</code>.</li></ol><ol type="1" id="cf8d4389-1df5-409d-a110-32de51f3bc3f" class="numbered-list" start="2"><li>To make any interesting <code>Block</code>s using this rudimentary initializer would be incredibly tedious. And for the game, we want to be able to generate random boards. This is what function <code>random_init</code> is for. Implement this function, which you will find at the top level of the module, outside any class. It is outside the <code>Block</code> class because it doesn’t need to refer to <code>self</code>.Implementation note: function <code>random_init</code> can do its work almost entirely through calls to the initializer for <code>Block</code>.<p id="25bf5e73-7437-43f8-969c-dad31ca843fd" class="">Here is the strategy to use in <code>random_init</code>: If a <code>Block</code> is not yet at its maximum depth, it can be subdivided; this function must decide whether or not to actually do so. To decide:</p><ul id="17f921ac-c491-4f02-bb17-ca71fe00483d" class="bulleted-list"><li style="list-style-type:disc">Use function <code>random.random</code> to generate a random number in the interval [0, 1).</li></ul><ul id="3f3709b1-a4f9-4a93-a2b9-5c1badab6e62" class="bulleted-list"><li style="list-style-type:disc">Subdivide if the random number is less than <code>math.exp(-0.25 * level)</code>, where <code>level</code> is the level of the <code>Block</code> within the tree.</li></ul><ul id="96120db6-7298-4741-b052-2ca5da61c5d8" class="bulleted-list"><li style="list-style-type:disc">If a <code>Block</code> is not going to be subdivided, use a random integer to pick a colour for it from the list of colours in <code>renderer.COLOUR_LIST</code>.</li></ul><p id="93590d93-3c1c-4f24-8e2f-f9d6edea61a1" class="">Notice that the randomly-generated <code>Block</code> may not reach its maximum allowed depth. It all depends on what random numbers are generated.</p><p id="1039d404-3d9a-40a4-ae8b-339bdc30ebd5" class="">Function <code>random_init</code> is responsible for giving appropriate values to the attributes of all <code>Block</code>s within the <code>Block</code> it generates <em>except</em> attributes <code>position</code> and <code>size</code>. In the next step, you will write a method that a client can use to set these attributes.</p></li></ol><ol type="1" id="0e4e86ad-0d98-4684-8071-3171487d4e9d" class="numbered-list" start="3"><li>Define method <code>update_block_locations</code>, which updates the values for attributes <code>position</code> and <code>size</code> throughout a <code>Block</code>, ensuring that they are consistent with the representation invariants for the class. Notice that the <code>position</code> and <code>size</code> of a <code>Block</code> are determined by the <code>position</code> and <code>size</code> of its parent <code>Block</code>.</li></ol><ol type="1" id="08a32efc-2c40-47d0-9ddd-7b678fa7092d" class="numbered-list" start="4"><li>To make a <code>Block</code> drawable, we must be able to provide a list of rectangles to the renderer. Write method <code>rectangles_to_draw</code>. (This may remind you of the tiling task in a recent lab.)</li></ol><p id="1e8634ce-016c-46d7-8e27-59a586dd9537" class="">We can’t mutate a <code>Block</code> yet, but we will have enough to go through the steps of a game once we define at least one kind of <code>Player</code> and <code>Goal</code>, and get the <code>Game</code> class ready.</p><p id="8c8c27ef-7a03-4bac-b46b-d6edb0c430a5" class=""><strong>Check your work:</strong> We will provide a function called <code>print_block</code> the will print the contents of a <code>Block</code> in text form. Use this to confirm that your <code>__init__</code> and <code>random_init</code> work correctly. We will provide some pytest code for testing your method <code>get_draw_rectangles</code> You will be able to test <code>get_selected_block</code> once the game is running.</p><h2 id="eb849cc8-ff53-4b0f-a951-e44e72c099f9" class="">Task 3: Complete basic goal classes</h2><p id="d21ab6db-4456-42e8-a8a8-1afc7dd48c34" class="">We need to have some basic ability to set goals and compute a player’s score with respect to their goal.</p><ol type="1" id="acad4590-b988-4647-8dc6-86b358532703" class="numbered-list" start="1"><li>Open <code>goal.py</code> and get familiar with the interface for the abstract class <code>Goal</code>. It has some basic infrastructure for storing information that any goal must have. It also defines an abstract methods <code>score</code> and <code>description</code> that any child class must implement.</li></ol><ol type="1" id="f8291a61-46b2-4496-aaa2-6cbf127fdb83" class="numbered-list" start="2"><li>Define both of the specific goal classes: <code>BlobGoal</code> and <code>PerimeterGoal</code>. (We have started <code>BlobGoal</code> for you.) For now, have all goals report the same value for score no matter what the state of the board is. How about 148? <code>:-)</code> Ignore the method <code>_undiscovered_blob_size</code>; you will implement and use it when you implement scoring for real.</li></ol><p id="63c146ef-858e-450f-ac5d-5cb98fd3c188" class=""><strong>Check your work:</strong> With the game running after Task 4, you will be able to see that the pieces of code connect together.</p><h2 id="4ed39404-338c-47e6-a869-74711c9f7a90" class="">Task 4: Complete class <code>Game</code></h2><p id="76042f40-3d26-4999-b271-6a1a1957a237" class="">Now we have enough pieces to assemble a rudimentary game!</p><ol type="1" id="03ea6e2b-4c29-4865-a97c-f03ca79d506e" class="numbered-list" start="1"><li>Open <code>game.py</code> and review the docstring for class <code>Game</code>. Make sure that you understand all its attributes.</li></ol><ol type="1" id="06919fc6-6e56-4d77-80ae-7645e2e28d68" class="numbered-list" start="2"><li>This class has only two methods, and we’ve implemented method <code>run_game</code> for you. Implement the initializer. It must do the following:<ul id="b3784bc9-6c28-473d-a773-cbb287d34952" class="bulleted-list"><li style="list-style-type:disc">Create a Renderer for this game.</li></ul><ul id="334e8332-0c0c-499f-9e8f-e025f770996b" class="bulleted-list"><li style="list-style-type:disc">Generate a random goal type, for all players to share.</li></ul><ul id="b23ca9de-bc47-4f4c-ad41-c62c1ac05e1e" class="bulleted-list"><li style="list-style-type:disc">Generate a random board with the given maximum depth.</li></ul><ul id="fd103f52-f0df-4530-bdb1-4b3b8432101e" class="bulleted-list"><li style="list-style-type:disc">Generate the right number of human players, random players, and smart players (with the given difficulty levels), in that order. Give the players consecutive player numbers, starting at 0. Assign each of them a random target colour and display their goal to them.</li></ul><ul id="221bf249-0bda-4393-aced-4fdba62f7dd2" class="bulleted-list"><li style="list-style-type:disc">Before returning, draw the board.</li></ul></li></ol><ol type="1" id="12e11954-71dc-41e5-8c60-bfdfa73a6bce" class="numbered-list" start="3"><li>We have written an abstract <code>Player</code> class and a <code>HumanPlayer</code> subclass for you. In order for the user to play the game, they must be able to select a block for action (such as for rotating) by hovering over the board to a desired location, and using the up and down arrows to choose a level. In <code>block.py</code>, method <code>get_selected_block</code> takes those user inputs and finds the corresponding <code>Block</code> within the tree. Implement that method.</li></ol><p id="709694e3-3ee7-465a-8571-481b80f5c66a" class=""><strong>Check your work:</strong> You should be able to run a game with only human players. Try running method <code>two_player_game</code> – you can uncomment out the call to it in the main block of module <code>game</code>. To select a block for action, put the cursor anywhere inside it and use the up and down arrow keys to select the desired level. The area at the bottom of the game board tells you how to select an action.</p><p id="b1a26f6c-01d8-4842-89ba-522effd8db53" class="">So far, no real moves are happening and the score never changes, but you should see the board, see play pass back and forth between players (as indicated by the red “PLAYER n” label just below the board), and the game should end when the desired number of moves has been reached.</p><h2 id="b00a4186-691c-4407-8b62-fce93b3ba592" class="">Task 5: Make <code>Block</code>s mutable</h2><p id="a0bc89ca-1fa9-4c02-8a90-5f45e674dd95" class="">Let’s make the game real by allowing players to make moves on the board.</p><ol type="1" id="dc2812af-44bb-4ee4-adc7-13f3fd29c594" class="numbered-list" start="1"><li>Review the representation invariants for class <code>Block</code>. They are critical to the correct functioning of the program, and it is the responsibility of all methods in the class to maintain their truth.</li></ol><ol type="1" id="506ea178-1863-4cb3-bec2-481e5b647416" class="numbered-list" start="2"><li>Define methods <code>swap</code>, <code>rotate</code> and <code>smash</code>. Ensure that each of them calls <code>update_block_locations</code> before returning.</li></ol><ol type="1" id="fabc3861-43de-43f4-a265-ca41da1b68ae" class="numbered-list" start="3"><li>Double check that each of your mutating methods maintains the representation invariants of class <code>Block</code>.</li></ol><p id="6e267b47-6ecd-4691-8082-77542ec95ba9" class=""><strong>Check your work:</strong> Now when you play the game, you should see the board changing. You may find it easiest to use function <code>solitaire_game</code> to try out the various moves.</p><h2 id="01bb4334-4466-445d-bca5-acf38154d910" class="">Task 6: Implement scoring for perimeter goals</h2><p id="0b0fc6c3-7abf-4037-924b-41e0240a7648" class="">Now let’s get scoring working.</p><p id="90b38622-a87d-45f1-af8c-0e76a4cf62ae" class="">The unit we use when scoring against a goal is a unit cell. The size of a unit cell depends on the maximum depth in the <code>Block</code>. For example, with maximum depth of 4, we might get this board:</p><figure id="3dee696d-5a9a-4bb2-8356-87e4e60780c5" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-4.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/levels-4.jpg"/></a></figure><p id="1da8a96c-1e19-462c-8b4c-8cba932f16f9" class="">If you count down through the levels, you’ll see that the smallest blocks are at level 4. Those blocks are unit cells. It would be possible to generate that same board even if maximum depth were 5. In that case, the unit cells would be one size smaller, even though no Block has been divided to that level.</p><p id="13e0fbdd-3891-4148-92a7-50e84df7abea" class="">Notice that the perimeter may include unit cells of the target colour as well as larger blocks of that colour. For a larger block, only the unit-cell-sized portions on the perimeter count. For example, suppose maximum depth were 3, the target colour were red, and the board were in this state:</p><figure id="4f44755f-4eb1-43ae-9a36-9e4e9e59f990" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/corner-before.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/corner-before.jpg"/></a></figure><p id="353dec0a-4712-4b72-b39f-761a37037aa4" class="">Only the red blocks on the edge would contribute, and the score would be 4: one for each of the two unit cells on the right edge, and two for the unit cells inside the larger red block that are actually on the edge. (Notice that the larger red block isn’t divided into four unit cells, but we still score as if it were.)</p><p id="63f24936-602f-4651-a6a0-e13fea778cd6" class="">Remember that corner cells count twice towards the score. So if the player rotated the lower right block to put the big red block on the corner:</p><figure id="325e983f-ca26-44ee-a553-fd38c80252f6" class="image"><a href="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/corner-after.jpg"><img src="http://nifty.stanford.edu/2019/horton-liu-blocky-recursive-tree-game/assignment-files/handout/images/corner-after.jpg"/></a></figure><p id="6ba16999-1b75-4997-9819-318ac8fc65c1" class="">the score would rise to 6.</p><p id="0c049965-c89f-45a2-bc61-189b78b28360" class="">Now that we understand these details of scoring for a perimeter goal, we can implement it.</p><ol type="1" id="1253c7e5-e747-4246-b6c7-501e14cd600c" class="numbered-list" start="1"><li>It is very difficult to compute a score for a perimeter goal or a blob goal by walking through the tree structure. (Think about that!) The goals are much more easily assessed by walking through a two-dimensional representation of the game board. Your next task is to provide that possibility: In module <code>block</code>, define method <code>flatten</code>.</li></ol><ol type="1" id="21bdec77-2edb-43b6-b263-6f6aa5e7adfb" class="numbered-list" start="2"><li>Now re-implement the <code>score</code> method in class <code>PerimeterGoal</code> to truly calculate the score. Begin by flattening the board to make your job easier!</li></ol><p id="b343c707-fc47-4df3-b59a-be0fe216d9ac" class=""><strong>Check your work:</strong> Now when you play the game, if a player has a perimeter goal, you should see the score changing. Check to confirm that it is changing correctly.</p><h2 id="46359e45-1000-4009-b00b-8d23ffd6828b" class="">Task 7: Implement scoring for blob goals</h2><p id="4a7970fb-9842-4a9d-8f92-9b6905f467e9" class="">Scoring with a blob goal involves flattening the tree, iterating through the cells in the flattened tree, and finding out, for each cell, what size of blob it is part of (if it is part of a blob of the target colour). The score is the biggest of these.</p><p id="ee3679c2-c683-4f4a-a99d-e30ec39935f8" class="">But how do we find out the size of the blob that a cell is part of? (Sounds like a helper method, eh?) We’ll start from the given cell and</p><ul id="5433d858-8af5-4402-bf07-cf675dd5abd2" class="bulleted-list"><li style="list-style-type:disc">if it’s not the target colour, then it is not in a blob of the target colour, so this cell should report 0.</li></ul><ul id="5aa300ad-c772-47d5-8504-fe382071551e" class="bulleted-list"><li style="list-style-type:disc">if it is of the target colour, then it is in a blob of the target colour. It might be a very small blob consisting of itself only, or a bigger one. It must ask its neighbours the size of blob that <em>they</em> are in, and then use that to report its own blob size. (Sounds, recursive, eh?)</li></ul><p id="f95ca4af-965d-4ae2-a85c-cac77d3c614e" class="">A potential problem with this is that when we ask a neighbour for their blob size, they will count us in that blob size, and this cell will end up being double counted (or worse). To avoid such issues, we will keep track of which cells have already been “visited” by the algorithm. To do this, make another nested list structure that is exactly parallel to the flattened tree. In each cell, store:</p><ul id="c21df1ab-0ae0-4f48-9d4a-b2ce78b998f2" class="bulleted-list"><li style="list-style-type:disc">1 if the cell has not been visited yet</li></ul><ul id="424db50f-34b0-431b-b7db-7259bf505360" class="bulleted-list"><li style="list-style-type:disc">0 if it has been visited, and it is not of the target colour</li></ul><ul id="144e8377-f006-44f6-bc25-3458532bddf5" class="bulleted-list"><li style="list-style-type:disc">1 if it has been visited and is of the target colour</li></ul><p id="2485a20b-8555-4f05-a285-42315a1c77e4" class="">Your task is to implement this algorithm.</p><ol type="1" id="693dce54-b4b2-470d-b4cc-6b708d06ad4f" class="numbered-list" start="1"><li>Open <code>goal.py</code> and read the docstring for helper method <code>_undiscovered_blob_size</code>.</li></ol><ol type="1" id="fcb6f153-181f-49a6-93be-5f0d64ad2bd5" class="numbered-list" start="2"><li>Draw a 4-by-4 grid with a small blob on it, and a parallel 4-by-4 grid full of -1 values. Pick a cell that is in your blob, and suppose we call <code>_undiscovered_blob_size</code>. Trace what the method should do. Remember not to unwind the recursion! Just assume that when you ask a neighbour to report its answer, it will do it correctly (and will update the <code>visited</code> structure correctly).</li></ol><ol type="1" id="d3c64893-eacb-48ac-bc58-ff53f54ad8cb" class="numbered-list" start="3"><li>Implement <code>_undiscovered_blob_size</code>.</li></ol><ol type="1" id="c992d2d1-46f6-4ada-89fd-53e6d7554770" class="numbered-list" start="4"><li>Now replace your placeholder implementation of <code>BlobGoal.score</code> with a real one. Use <code>_undiscovered_blob_size</code> as a helper method.</li></ol><p id="417145fe-c540-4468-9192-4dc82f8e2b5f" class="">Although we only have two types of goal, you can see that to add a whole new kind of goal, such as stringing a colour along a diagonal, one would only have to define a new child class of <code>Goal</code>, implement the <code>score</code> method for that goal, and then update the code that configures the game to include the new goal as a possibility.</p><p id="b7f193ab-88a4-4d23-9aee-5fb9ccc93568" class=""><strong>Check your work:</strong> Now when you play the game, a player’s score should update after each move, regardless of what type of goal the player has.</p><h2 id="00d448f1-53a2-47ed-a939-64d99f166c42" class="">Task 8: Add random and smart players</h2><ol type="1" id="cb2c2255-fdbd-4368-aa2d-b2b77db2875e" class="numbered-list" start="1"><li>Inside <code>player.py</code>, Implement class <code>RandomPlayer</code>. Method <code>make_move</code> should do the following:<ul id="b93ca6bd-4a7e-4b39-9ced-349527bf8790" class="bulleted-list"><li style="list-style-type:disc">Randomly choose a block.</li></ul><ul id="fc02fc31-1968-4591-be66-131c3a2acd8c" class="bulleted-list"><li style="list-style-type:disc">Highlight the chosen block and draw the board.</li></ul><ul id="6f9958f4-7b18-41ef-bad4-98b813b4830d" class="bulleted-list"><li style="list-style-type:disc">Call <code>pygame.time.wait(TIME_DELAY)</code> to introduce a delay so that the user can see what is happening.</li></ul><ul id="7a4a11a0-b4cd-4a2c-92fc-071167a40d48" class="bulleted-list"><li style="list-style-type:disc">Randomly choose one of the 5 possible types of action and do it on the chosen block.</li></ul><ul id="7cc60757-a8c8-4620-938d-912843d59c18" class="bulleted-list"><li style="list-style-type:disc">Un-highlight the chosen block and draw the board again.</li></ul></li></ol><ol type="1" id="41e2cf92-2984-4717-bc59-cd51950de1f0" class="numbered-list" start="2"><li>Implement class <code>SmartPlayer</code>. A <code>SmartPlayer</code> has a “difficulty” level, which indicates how difficult it is to play against it. The difficulty level is an integer &gt;= 0, and dictates how many possible moves it compares when choosing a move to make. For example, if difficulty is 0, it compares 5 possible moves. See the table below for the meaning of the other difficulty levels.<div id="45e98096-a82f-479a-b5cd-041b9c57f497" class="collection-content"><h4 class="collection-title"></h4><table class="collection-content"><thead><tr><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesTitle"><path d="M7.73943662,8.6971831 C7.77640845,8.7834507 7.81338028,8.8943662 7.81338028,9.00528169 C7.81338028,9.49823944 7.40669014,9.89260563 6.91373239,9.89260563 C6.53169014,9.89260563 6.19894366,9.64612676 6.08802817,9.30105634 L5.75528169,8.33978873 L2.05809859,8.33978873 L1.72535211,9.30105634 C1.61443662,9.64612676 1.2693662,9.89260563 0.887323944,9.89260563 C0.394366197,9.89260563 0,9.49823944 0,9.00528169 C0,8.8943662 0.0246478873,8.7834507 0.0616197183,8.6971831 L2.46478873,2.48591549 C2.68661972,1.90669014 3.24119718,1.5 3.90669014,1.5 C4.55985915,1.5 5.12676056,1.90669014 5.34859155,2.48591549 L7.73943662,8.6971831 Z M2.60035211,6.82394366 L5.21302817,6.82394366 L3.90669014,3.10211268 L2.60035211,6.82394366 Z M11.3996479,3.70598592 C12.7552817,3.70598592 14,4.24823944 14,5.96126761 L14,9.07922535 C14,9.52288732 13.6549296,9.89260563 13.2112676,9.89260563 C12.8169014,9.89260563 12.471831,9.59683099 12.4225352,9.19014085 C12.028169,9.6584507 11.3257042,9.95422535 10.5492958,9.95422535 C9.60035211,9.95422535 8.47887324,9.31338028 8.47887324,7.98239437 C8.47887324,6.58978873 9.60035211,6.08450704 10.5492958,6.08450704 C11.3380282,6.08450704 12.040493,6.33098592 12.4348592,6.81161972 L12.4348592,5.98591549 C12.4348592,5.38204225 11.9172535,4.98767606 11.1285211,4.98767606 C10.6602113,4.98767606 10.2411972,5.11091549 9.80985915,5.38204225 C9.72359155,5.43133803 9.61267606,5.46830986 9.50176056,5.46830986 C9.18133803,5.46830986 8.91021127,5.1971831 8.91021127,4.86443662 C8.91021127,4.64260563 9.0334507,4.44542254 9.19366197,4.34683099 C9.87147887,3.90316901 10.6232394,3.70598592 11.3996479,3.70598592 Z M11.1778169,8.8943662 C11.6830986,8.8943662 12.1760563,8.72183099 12.4348592,8.37676056 L12.4348592,7.63732394 C12.1760563,7.29225352 11.6830986,7.11971831 11.1778169,7.11971831 C10.5616197,7.11971831 10.056338,7.45246479 10.056338,8.0193662 C10.056338,8.57394366 10.5616197,8.8943662 11.1778169,8.8943662 Z M0.65625,11.125 L13.34375,11.125 C13.7061869,11.125 14,11.4188131 14,11.78125 C14,12.1436869 13.7061869,12.4375 13.34375,12.4375 L0.65625,12.4375 C0.293813133,12.4375 4.43857149e-17,12.1436869 0,11.78125 C-4.43857149e-17,11.4188131 0.293813133,11.125 0.65625,11.125 Z"></path></svg></span>Difficulty</th><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesNumber"><path d="M4.46191,0 C3.8667,0 3.38428,0.482422 3.38428,1.07751 L3.38428,3.38425 L1.07764,3.38425 C0.482422,3.38425 0,3.86667 0,4.46179 C0,5.05688 0.482422,5.53931 1.07764,5.53931 L3.38428,5.53931 L3.38428,8.46063 L1.07764,8.46063 C0.482422,8.46063 0,8.94308 0,9.53818 C0,10.1333 0.482422,10.6157 1.07764,10.6157 L3.38428,10.6157 L3.38428,12.9224 C3.38428,13.5175 3.8667,13.9999 4.46191,13.9999 C5.05664,13.9999 5.53906,13.5175 5.53906,12.9224 L5.53906,10.6157 L8.46045,10.6157 L8.46045,12.9224 C8.46045,13.5175 8.94287,13.9999 9.53809,13.9999 C10.1333,13.9999 10.6157,13.5175 10.6157,12.9224 L10.6157,10.6157 L12.9224,10.6157 C13.5176,10.6157 14,10.1333 14,9.53818 C14,8.94308 13.5176,8.46063 12.9224,8.46063 L10.6157,8.46063 L10.6157,5.53931 L12.9224,5.53931 C13.5176,5.53931 14,5.05688 14,4.46179 C14,3.86667 13.5176,3.38425 12.9224,3.38425 L10.6157,3.38425 L10.6157,1.07751 C10.6157,0.482422 10.1333,0 9.53809,0 C8.94287,0 8.46045,0.482422 8.46045,1.07751 L8.46045,3.38425 L5.53906,3.38425 L5.53906,1.07751 C5.53906,0.482422 5.05664,0 4.46191,0 Z M5.53906,8.46063 L5.53906,5.53931 L8.46045,5.53931 L8.46045,8.46063 L5.53906,8.46063 Z"></path></svg></span>Moves to compare</th></tr></thead><tbody><tr id="74e7a31f-be44-40a9-9162-e04c4b7a9fe8"><td class="cell-title"><a href="https://www.notion.so/0-74e7a31fbe4440a99162e04c4b7a9fe8">0</a></td><td class="cell-dh{m">5</td></tr><tr id="fedf4649-496e-41ff-babf-39a49be2e51b"><td class="cell-title"><a href="https://www.notion.so/1-fedf4649496e41ffbabf39a49be2e51b">1</a></td><td class="cell-dh{m">10</td></tr><tr id="2e89aed4-8219-4689-af4b-3ec7499b6164"><td class="cell-title"><a href="https://www.notion.so/2-2e89aed482194689af4b3ec7499b6164">2</a></td><td class="cell-dh{m">25</td></tr><tr id="3bc2b1e2-566b-4131-ace9-3382423386f4"><td class="cell-title"><a href="https://www.notion.so/3-3bc2b1e2566b4131ace93382423386f4">3</a></td><td class="cell-dh{m">50</td></tr><tr id="cfb151e2-e79b-4301-a242-6cf46ea60724"><td class="cell-title"><a href="https://www.notion.so/4-cfb151e2e79b4301a2426cf46ea60724">4</a></td><td class="cell-dh{m">100</td></tr><tr id="1ae0a4de-8a3a-4a0b-92ab-5743bb15aaf2"><td class="cell-title"><a href="https://www.notion.so/5-1ae0a4de8a3a4a0b92ab5743bb15aaf2">5</a></td><td class="cell-dh{m">150</td></tr><tr id="44f7eb61-cc87-49ac-8d69-6e327147f2c9"><td class="cell-title"><a href="https://www.notion.so/5-44f7eb61cc8749ac8d696e327147f2c9">&gt;5</a></td><td class="cell-dh{m">150</td></tr></tbody></table></div><p id="16626b53-a1c4-4185-a905-5bce3d5ec1f6" class="">When generating these random moves to compare, don’t forget that a <code>SmartPlayer</code> isn’t allowed to do smashes.</p><p id="95ec2a35-5266-43f8-9514-4f47543b6dc8" class="">In order to assess each of the possible moves and pick the best one, the <code>SmartPlayer</code> must actually apply the move, score it, and then undo the move. None of this moving and undoing shows on the screen because we won’t ask the renderer to draw the board while this is happening.</p><p id="37bfb1d0-8a44-4c01-8c38-6b1bc5b1659a" class="">Method <code>make_move</code> should do the following:</p><ul id="d4c5c5dd-89bf-4243-ab33-43ce15b89efe" class="bulleted-list"><li style="list-style-type:disc">Assess the right number of possible moves and pick the best one among them.</li></ul><ul id="dab93304-2685-4538-9071-c0d2cbb571ab" class="bulleted-list"><li style="list-style-type:disc">Highlight the block involved in the chosen move, and draw the board.</li></ul><ul id="3ced8c4a-fec8-4020-bd1c-eb574ab39827" class="bulleted-list"><li style="list-style-type:disc">Call <code>pygame.time.wait(TIME_DELAY)</code> to introduce a delay so that the user can see what is happening.</li></ul><ul id="963c938d-0aef-41d3-a07e-569ca710f361" class="bulleted-list"><li style="list-style-type:disc">Do the chosen move.</li></ul><ul id="62fc5521-1468-4727-ad5a-c41e0ce3acea" class="bulleted-list"><li style="list-style-type:disc">Un-highlight the block involved in the chosen move, and draw the board again.</li></ul></li></ol><p id="b411b70f-24f1-46d1-947e-86ad2f02e447" class=""><strong>Check your work:</strong> Now you can run games with all types of players.</p><h2 id="bf72bc6d-d189-4d14-8412-a766ebb9a4d0" class="">Polish!</h2><p id="9c9e735f-1fda-4b85-ad96-3ffca741dad9" class="">Take some time to polish up. This step will improve your mark, but it also feels so good. Here are some things you can do:</p><ul id="754fe1e3-95cf-478b-bf1d-d0faac06787c" class="bulleted-list"><li style="list-style-type:disc">Pay attention to any violations of the “PEP8” Python style guidelines that PyCharm points out. Fix them!</li></ul><ul id="222b04c6-9ab2-4c2a-8e91-4b7684e3fe62" class="bulleted-list"><li style="list-style-type:disc">Read through and polish your internal comments.</li></ul><ul id="e43c4161-5c6b-42f3-b603-0c451a02ee2d" class="bulleted-list"><li style="list-style-type:disc">Remove any code you added just for debugging, such as print statements.</li></ul><ul id="c64b8d74-c529-480a-a4ee-27db2476db68" class="bulleted-list"><li style="list-style-type:disc">Remove any <code>pass</code> statement where you have added the necessary code.</li></ul><ul id="eaa0b519-6458-4a8b-bdd0-99b00b24b807" class="bulleted-list"><li style="list-style-type:disc">Remove the word “TODO” wherever you have completed the task.</li></ul><ul id="bd98b651-5ca6-47ff-a3b2-c9cda76a8ca7" class="bulleted-list"><li style="list-style-type:disc">Take pride in your gorgeous code!</li></ul></div></article></body></html>